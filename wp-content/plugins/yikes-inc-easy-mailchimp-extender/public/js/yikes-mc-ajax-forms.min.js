window.Yikes_Mailchimp_Ajax=window.Yikes_Mailchimp_Ajax||{},function(e,i,m,u,s){"use strict";u.l10n=e.yikes_mailchimp_ajax||{},m(i).ready(function(){m("body").on("submit",".yikes-easy-mc-form",function(){var l=m(this);l.addClass("yikes-mc-submitted-form-loading"),l.find("input, label, button").not(":hidden").fadeTo("fast",.5),"string"==typeof u.l10n.preloader_url&&1<u.l10n.preloader_url.length&&l.append('<img src="'+u.l10n.preloader_url+'" class="yikes-mailchimp-preloader" />'),m(".yikes-mc-required-field-not-filled").removeClass("yikes-mc-required-field-not-filled"),m(".yikes-mailchimp-submit-button-span-text").hide(),"string"==typeof u.l10n.loading_dots&&1<u.l10n.loading_dots.length&&l.find(".yikes-easy-mc-submit-button").append('<img src="'+u.l10n.loading_dots+'" class="loading-dots yikes-mc-loading-dots" />');var c=l.attr("data-attr-form-id"),i=[];if(0<l.find(".yikes-interest-group-required").length&&l.find(".yikes-interest-group-required").each(function(){var e=jQuery(this).attr("name").replace("[]","");0==l.find('input[name="'+e+'[]"]:checked').length&&(i[e]=l.find("span."+e+"-label").text())}),0<i.length){if(0<l.find(".yikes-mailchimp-required-interest-group-error").length)l.find(".yikes-mailchimp-required-interest-group-error").fadeOut("fast",function(){for(var e in l.find(".yikes-mailchimp-required-interest-group-error").remove(),i)l.find("span."+e+"-label").after('<p class="yikes-mailchimp-required-interest-group-error">'+u.l10n.interest_group_checkbox_error+"</p>")});else for(var e in i)l.find("span."+e+"-label").after('<p class="yikes-mailchimp-required-interest-group-error">'+u.l10n.interest_group_checkbox_error+"</p>");return l.find(".yikes-easy-mc-submit-button").removeAttr("disabled","disabled"),l.find("input, label, button").not(":hidden").fadeTo("fast",1),l.find(".yikes-mailchimp-preloader").remove(),m(".yikes-mc-loading-dots").remove(),m(".yikes-mailchimp-submit-button-span-text").show(),l.removeClass("yikes-mc-submitted-form-loading"),!1}l.find(".yikes-easy-mc-submit-button").attr("disabled","disabled"),m(".yikes-easy-mc-error-message").remove(),m(".yikes-easy-mc-success-message").remove();var s={action:"process_form_submission",form_data:l.serialize(),form_id:c,page_data:u.l10n.page_data,ajax_security_nonce:u.l10n.ajax_security_nonce};return m.ajax({url:u.l10n.ajax_url,type:"POST",data:s,success:function(e,i,s){if(l.find("input, label, button").not(":hidden").fadeTo("fast",1),l.find(".yikes-mailchimp-preloader").remove(),m(".yikes-mc-loading-dots").remove(),m(".yikes-mailchimp-submit-button-span-text").show(),l.removeClass("yikes-mc-submitted-form-loading"),e.success){e=e.data,"function"==typeof yikes_mailchimp_google_analytics_success&&yikes_mailchimp_google_analytics_success(e),1==e.hide&&(0<m(".yikes-easy-mc-form-description-"+c).length&&m(".yikes-easy-mc-form-description-"+c).hide(),l.hide()),0<m(".yikes-easy-mc-form-description-"+c).length?m(".yikes-easy-mc-form-description-"+c).before('<p class="yikes-easy-mc-success-message yikes-easy-mc-success-message-'+c+' yikes-easy-mc-hidden">'+e.response+"</p>"):l.before('<p class="yikes-easy-mc-success-message yikes-easy-mc-success-message-'+c+' yikes-easy-mc-hidden">'+e.response+"</p>"),m(".yikes-easy-mc-success-message-"+c).fadeIn(),m(".yikes-mailchimp-required-interest-group-error").remove(),1===e.redirection&&yikes_mc_redirect_after_submission(e.redirect,e.redirect_timer,e.new_window),l.find("input").not('.yikes-easy-mc-submit-button, input[type="radio"], input[type="select"], input[type="checkbox"], input[name="yikes-mailchimp-associated-list-id"], input[name="yikes-mailchimp-submitted-form"]').val("");var r={action:"increase_submission_count",form_id:c};m.ajax({url:u.l10n.ajax_url,type:"POST",data:r,success:function(e,i,s){},error:function(e,i,s){console.error(s)}})}else{if(e=e.data,"function"==typeof yikes_mailchimp_google_analytics_failure&&yikes_mailchimp_google_analytics_failure(e),0<m(".yikes-easy-mc-form-description-"+c).length)m(".yikes-easy-mc-form-description-"+c).before('<p class="yikes-easy-mc-error-message yikes-easy-mc-error-message-'+c+'" yikes-easy-mc-hidden"> '+e.response+"</p>");else{var a=void 0!==e&&void 0!==e.response?e.response:"Error collecting the API response.";l.before('<p class="yikes-easy-mc-error-message yikes-easy-mc-error-message-'+c+' yikes-easy-mc-hidden">'+a+"</p>")}if(void 0!==e&&void 0!==e.missing_required_field&&!0===e.missing_required_field&&void 0!==e.missing_required_field_data){var n=e.missing_required_field_data,t=void 0!==e.is_interest_group&&e.is_interest_group;d=t,void 0!==(o=n)&&m.each(o,function(e,i){!0===d?0<m("span."+e+"-label").length?m("span."+e+"-label").addClass("yikes-mc-required-field-not-filled"):m("."+e+"-label").addClass("yikes-mc-required-field-not-filled"):m('label[for="'+e+'"]').children("input").addClass("yikes-mc-required-field-not-filled")})}m(".yikes-easy-mc-error-message").fadeIn()}var o,d},error:function(e,i,s){console.error(s),console.log(e),console.log(i)},complete:function(e,i){l.find(".yikes-easy-mc-submit-button").removeAttr("disabled","disabled")}}),!1})})}(window,document,jQuery,Yikes_Mailchimp_Ajax);